/**
 * @fileOverview Tail calls
 */
package (
    Tail
    trampoline)
{

Tail = function \f s ok err =self-> {
    self.f = f;
    self.s = s;
    self.ok = ok;
    self.err = err;
};

trampoline = \f -> {
    var value = f;
    while (value instanceof Tail)
        value = value.f(value.s, value.ok, value.err);
    return value;
};

}